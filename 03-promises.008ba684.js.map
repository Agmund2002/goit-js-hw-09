{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,WAGA,MAAMC,EAAOC,SAASC,cAAc,UAC9BC,MAACC,EAAKC,KAAEC,EAAIC,OAAEC,GAAUR,EAAKS,SAEnCT,EAAKU,iBAAiB,UAItB,SAAqBC,GACnBA,EAAIC,iBAEJ,MAAMC,EAAW,CACfV,MAAOW,OAAOV,EAAMW,OACpBV,KAAMS,OAAOR,EAAKS,OAClBR,OAAQO,OAAON,EAAOO,QAGxB,IAAIC,EAAQ,EACRC,EAASJ,EAASV,MAElBe,EAAUC,YAAW,SAASC,IAsBpC,IAAuBC,EAAUC,GAAVD,EArBLL,EAqBeM,EArBRL,EAsBhB,IAAIM,SAAQ,CAACC,EAAKC,KACDC,KAAKC,SAAW,GAEpCH,EAAI,C,SAACH,E,UAAUC,IAEfG,EAAI,C,SAACJ,E,UAAUC,GAAW,KA1B3BM,MAAK,EAACP,SAAEA,EAAQC,UAAEA,MACjBxB,EAAA+B,OAAOC,QAAQ,qBAAqBT,QAAeC,OAAe,IAEnES,OAAM,EAACV,SAAEA,EAAQC,UAAEA,MAClBxB,EAAA+B,OAAOG,QAAQ,oBAAoBX,QAAeC,OAAe,IAGnEN,IACAC,GAAUJ,EAASR,KAEnBa,EAAUC,WAAWC,EAAKP,EAASR,MAE/BW,EAAQH,EAASN,QACnB0B,aAAaf,E,GAEdL,EAASV,OAEZQ,EAAIuB,cAAcC,O","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport \"notiflix/dist/notiflix-notify-aio-3.2.6.min.js\"\n\nconst form = document.querySelector('.form');\nconst {delay, step, amount} = form.elements;\n\nform.addEventListener('submit', handlerForm);\n\n// Функції\n\nfunction handlerForm(evt) {\n  evt.preventDefault();\n  \n  const numValue = {\n    delay: Number(delay.value), \n    step: Number(step.value), \n    amount: Number(amount.value)\n  }\n  \n  let count = 1;\n  let delays = numValue.delay\n\n  let timerId = setTimeout(function run() {\n    createPromise(count, delays)\n    .then(({ position, delayFunc }) => {\n      Notify.success(`Fulfilled promise ${position} in ${delayFunc} ms`);\n    })\n    .catch(({ position, delayFunc }) => {\n      Notify.failure(`Rejected promise ${position} in ${delayFunc} ms`)\n    });\n\n    count++;\n    delays += numValue.step;\n\n    timerId = setTimeout(run, numValue.step)\n\n    if (count > numValue.amount) {\n      clearTimeout(timerId);\n    }\n  }, numValue.delay)\n\n  evt.currentTarget.reset();\n}\n\nfunction createPromise(position, delayFunc) {\n  return new Promise((res, rej) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      res({position, delayFunc});\n    } else {\n      rej({position, delayFunc});\n    }\n  })\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","delay","$47d4ff9957288465$var$delay","step","$47d4ff9957288465$var$step","amount","$47d4ff9957288465$var$amount","elements","addEventListener","evt","preventDefault","numValue","Number","value","count","delays","timerId","setTimeout","run","position","delayFunc","Promise","res","rej","Math","random","then","Notify","success","catch","failure","clearTimeout","currentTarget","reset"],"version":3,"file":"03-promises.008ba684.js.map"}